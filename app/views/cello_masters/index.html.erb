<script>
  $( function() {
    $( "#mrp_slider" ).slider({
      range: true,
      min: 0,
      max: 10000,
      values: [ 1000, 5000 ],
      slide: function( event, ui ) {
        $('#q_mrp_gteq').val(ui.values[ 0 ]);
        $('#q_mrp_lteq').val(ui.values[ 1 ]);
        $( "#mrp_amount" ).text( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
      }
    });
    $( "#mrp_amount" ).text( "$" + $( "#mrp_slider" ).slider( "values", 0 ) +
      " - $" + $( "#mrp_slider" ).slider( "values", 1 ) );
    $( "#drp_slider" ).slider({
      range: true,
      min: 0,
      max: 10000,
      values: [ 1000, 5000 ],
      slide: function( event, ui ) {
        $('#q_drp_gteq').val(ui.values[ 0 ]);
        $('#q_drp_lteq').val(ui.values[ 1 ]);
        $( "#drp_amount" ).text( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
      }
    });
    $( "#drp_amount" ).text( "$" + $( "#drp_slider" ).slider( "values", 0 ) +
      " - $" + $( "#drp_slider" ).slider( "values", 1 ) );
    $( "#drp_slider" ).slider({
      range: true,
      min: 0,
      max: 10000,
      values: [ 1000, 5000 ],
      slide: function( event, ui ) {
        $('#q_drp_gteq').val(ui.values[ 0 ]);
        $('#q_drp_lteq').val(ui.values[ 1 ]);
        $( "#drp_amount" ).text( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
      }
    });
    $( "#drp_amount" ).text( "$" + $( "#drp_slider" ).slider( "values", 0 ) +
      " - $" + $( "#drp_slider" ).slider( "values", 1 ) );
    $( "#td_slider" ).slider({
      range: true,
      min: 0,
      max: 10000,
      values: [ 1000, 5000 ],
      slide: function( event, ui ) {
        $('#q_trade_discount_gteq').val(ui.values[ 0 ]);
        $('#q_trade_discount_lteq').val(ui.values[ 1 ]);
        $( "#td_amount" ).text( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
      }
    });
    $( "#td_amount" ).text( "$" + $( "#td_slider" ).slider( "values", 0 ) +
      " - $" + $( "#td_slider" ).slider( "values", 1 ) );
    $( "#rate_slider" ).slider({
      range: true,
      min: 0,
      max: 10000,
      values: [ 1000, 5000 ],
      slide: function( event, ui ) {
        $('#q_rate_gteq').val(ui.values[ 0 ]);
        $('#q_rate_lteq').val(ui.values[ 1 ]);
        $( "#rate_amount" ).text( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
      }
    });
    $( "#rate_amount" ).text( "$" + $( "#rate_slider" ).slider( "values", 0 ) +
      " - $" + $( "#rate_slider" ).slider( "values", 1 ) );
    $( "#scheme_slider" ).slider({
      range: true,
      min: 0,
      max: 10000,
      values: [ 1000, 5000 ],
      slide: function( event, ui ) {
        $('#q_scheme_gteq').val(ui.values[ 0 ]);
        $('#q_scheme_lteq').val(ui.values[ 1 ]);
        $( "#scheme_amount" ).text( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
      }
    });
    $( "#scheme_amount" ).text( "$" + $( "#scheme_slider" ).slider( "values", 0 ) +
      " - $" + $( "#scheme_slider" ).slider( "values", 1 ) );

    $( "#nr_slider" ).slider({
      range: true,
      min: 0,
      max: 10000,
      values: [ 1000, 5000 ],
      slide: function( event, ui ) {
        $('#q_net_rate_gteq').val(ui.values[ 0 ]);
        $('#q_net_rate_lteq').val(ui.values[ 1 ]);
        $( "#nr_amount" ).text( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
      }
    });
    $( "#nr_amount" ).text( "$" + $( "#nr_slider" ).slider( "values", 0 ) +
      " - $" + $( "#nr_slider" ).slider( "values", 1 ) );
  } );
</script>
<div class="container-fluid">
  <%= render partial: 'upload_csv_form' %>
  <div class="row">
    <div class="col-sm-3 main">
      <%= search_form_for @q, remote: true do |f| %>
        <div class="my-3">
          <div class='row'>
            <h3 style="float: left; margin-left: 10px;">Filter</h3>
            <%= f.submit 'Search', class: 'btn btn-outline-danger mx-2 my-2 my-sm-0', style: 'float: right; right:0; position: absolute;' %>
          </div>
          <div class="row mt-3">
            <div class="col-md-4"><b>Company:</b></div>
            <div class="col-md-8">
              <%= f.search_field :company_name_i_cont %>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-4"><b>Division:</b></div>
            <div class="col-md-8">
              <%= f.search_field :divison_i_cont %>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-4"><b>Category:</b></div>
            <div class="col-md-8">
              <%= f.search_field :category_i_cont %>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-4"><b>Product:</b></div>
            <div class="col-md-8">
              <%= f.search_field :product_name_i_cont %>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-4"><b>Capacity:</b></div>
            <div class="col-md-8">
              <%= f.search_field :capacity_i_cont %>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-4">
              <label for="amount"><b>MRP:</b></label>
            </div>
            <div class="col-md-8">
              <%= f.search_field :mrp_gteq, class: 'd-none' %>
              <%= f.search_field :mrp_lteq, class: 'd-none' %>
              <span id='mrp_amount' readonly></span>
            </div>
          </div>
          <div class="row">
            <div id="mrp_slider" class="mt-2" style="width: 95%; margin-left: 15px;"></div>
          </div>
          <div class="row mt-3">
            <div class="col-md-4">
              <label for="amount"><b>DRP:</b></label>
            </div>
            <div class="col-md-8">
              <%= f.search_field :drp_gteq, class: 'd-none' %>
              <%= f.search_field :drp_lteq, class: 'd-none' %>
              <span id='drp_amount' readonly></span>
            </div>
          </div>
          <div class="row">
            <div id="drp_slider" class="mt-2" style="width: 95%; margin-left: 15px;"></div>
          </div>
          <div class="row mt-3">
            <div class="col-md-4">
              <label for="amount"><b>Trade:</b></label>
            </div>
            <div class="col-md-8">
              <%= f.search_field :trade_discount_gteq, class: 'd-none' %>
              <%= f.search_field :trade_discount_lteq, class: 'd-none' %>
              <span id='td_amount' readonly></span>
            </div>
          </div>
          <div class="row">
            <div id="td_slider" class="mt-2" style="width: 95%; margin-left: 15px;"></div>
          </div>
          <div class="row mt-3">
            <div class="col-md-4">
              <label for="amount"><b>Rate:</b></label>
            </div>
            <div class="col-md-8">
              <%= f.search_field :rate_gteq, class: 'd-none' %>
              <%= f.search_field :rate_lteq, class: 'd-none' %>
              <span id='rate_amount' readonly></span>
            </div>
          </div>
          <div class="row">
            <div id="rate_slider" class="mt-2" style="width: 95%; margin-left: 15px;"></div>
          </div>
          <div class="row mt-3">
            <div class="col-md-4">
              <label for="amount"><b>Scheme:</b></label>
            </div>
            <div class="col-md-8">
              <%= f.search_field :scheme_gteq, class: 'd-none' %>
              <%= f.search_field :scheme_lteq, class: 'd-none' %>
              <span id='scheme_amount' readonly></span>
            </div>
          </div>
          <div class="row">
            <div id="scheme_slider" class="mt-2" style="width: 95%; margin-left: 15px;"></div>
          </div>
          <div class="row mt-3">
            <div class="col-md-4">
              <label for="amount"><b>Net Rate:</b></label>
            </div>
            <div class="col-md-8">
              <%= f.search_field :net_rate_gteq, class: 'd-none' %>
              <%= f.search_field :net_rate_lteq, class: 'd-none' %>
              <span id='nr_amount' readonly></span>
            </div>
          </div>
          <div class="row">
            <div id="nr_slider" class="mt-2" style="width: 95%; margin-left: 15px;"></div>
          </div>
        </div>
      <% end %>
    </div>
    <div class='col-sm-9'>
      <div class='row mt-3' id='cello_master_list'>
        <% @cello_masters.each do |cello_master| %>
          <%= render partial: 'cello_master_row', locals: {cello_master: cello_master}%>
        <% end %>
      </div>
    </div>
  </div>
</div>